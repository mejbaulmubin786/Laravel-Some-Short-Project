After laravel installation i install jetstream

```bash
composer require laravel/jetstream

// to Install Jetstream With Livewire
php artisan jetstream:install livewire
```

```bash
npm install
npm run build
php artisan migrate
```

// postcss.config.js
// If facing a problem when run npm

```js
module.exports = {
    plugins: {
        tailwindcss: {},
        autoprefixer: {},
    },
};
```

```php
Schema::create('users', function (Blueprint $table) {
    $table->id();
    $table->string('name');
    $table->string('email')->unique();
    $table->string('phone')->nullable();
    $table->string('usertype')->default('user');
    $table->timestamp('email_verified_at')->nullable();
    $table->string('password');
    $table->rememberToken();
    $table->foreignId('current_team_id')->nullable();
    $table->string('profile_photo_path', 2048)->nullable();
    $table->timestamps();
});
```

```bash
php artisan migrate
```

//register.blade.php

```php
<div>
    <x-label for="name" value="{{ __('Phome') }}" />
    <x-input id="name" class="block mt-1 w-full" type="text" name="phone" :value="old('phone')" required autofocus autocomplete="phone" />
</div>
```

// app/Actions/Fortify/CreateNewUser.php

```php
return User::create([
    'name' => $input['name'],
    'email' => $input['email'],
    'phone' => $input['phone'],
    'password' => Hash::make($input['password']),
]);
```

// goto config/fortify.php anc change `'home' => '/dashboard',` to `'home' => '/home',`

Lets go and make a controller for home.

```bash
php artisan make:controller AdminController
```

after making a controller and make a route for home

```php
// let's say ourfunction name will be index okay soright now what we need to do is thatwe need to go to the admin controller andcreate a function called index
route::get('/home', [AdminController::class, 'index']);
```

so let'sgo to our admin controller and herewe're going toset publicfunction index to file bracket and thendo second bracket and in this indexfunction we're going to write a fewcondition so that whenever a user istrying to log in it will send the userto the user dashboard and when a adminis trying to log in it will send theadmin to the admin dashboard so for it we need to have access to the user tableso here we need to mention the user model. so we'll say here `use App\Models\User;` so this our usertable name and we need to mention onemore thing and that is Auth `use Illuminate\Support\Facades\Auth;` so we also have access to the authentication so here using this allwe'll check whether a user is time tologin or not so in this function we'llgive a if condition

```php
<?php

namespace App\Http\Controllers;
use App\Models\User;
class AdminController extends Controller {
    public function index() {

        if (Auth::id()) {
            $usertype = Auth()->user()->usertype;
        }
        //this means if someone is trying to log in only then we'll come to this if condition okay otherwise we will notcome to this if condition so if someoneis trying to log in obviously they willhave a user type whether it is user or admin so first of all we'll get that user type so for it let's go and declarea variable let's say the variable name will be user type you can declare itanything but we'll make it we'll say `$usertype` because that makes more sense.

        //so here what we are doing is that in the user table this is the table name in the user table we'retrying to get the user type and store it in this user type variable

    }
}
```

so what this line `Auth()->user()->usertype;` we do is that it will get the user type from the database table whenever someone is tryto login and that user type data will be stored in this user type variable it means for example if a user is trying to log in then it will make the user type value is user and if a admin is trying to log in then the user type value will be admin okay

so right now using this user type we are going to write one more if conditio.

```php
if ($usertype == 'user') {
    return view('dashboard');
} else if ($usertype == 'admin') {
    return view('admin.index');
} else {
    return redirect()->back();
}
```

we are saying ifthe user type value is user it meansuser is trying to login so we'll returnthe user to the dashboard so we'll sayhere return view dashboard and thisdashboard view is uh this one this isthe regular dashbo view we'll change itlater but for now this will be the userlogged in dashboard for now and the userTy is admin then we'll send the user or admin to a different dashboard

we'll say here in stad of user we say here admin and inad of if condition it willbe else if okay and we cannot send the admin to the same view so here stop thisone we say here admin do let's say index so right now what we do is that we'll create a `admin` folder in our views inside this admin folderwe're going to create a file say `index.blade.PHP`

### let me just explain this code uh one more time from the very beginning so here when ever someone is trying to log in or what it will do is that it will call this Home Route and this will call our web.phpthis route and this out will call ouradmin controller index function and our index function which is in the admincontroller first of all check if someoneis trying to log in if someone is tryingto log in then it will check the usertype and store it in this user typevariable after that if the user t isuser then it will return the user to thedashboardView and if the user Ty is admin then itwill return the user to the admin. indexview which we just created right nowhere you can see admin.com if the user Dis neither of them then it will keep theuser to the same base it means in the log in page

## -----------------------------------------------------------------------

save ITR s and soright now in this index. r. PHP let'sjust say normal HTML and we're going tosay in the body let's say it will be Aonadminhome let's saveit so let me just explain this and one more thing that we should do is thatuh after this condition we just give ayescondition we say here returnredirect return redirect to F bracketthis Arrow sign B so if the user type byany chance there is no user type valuethen it will keep the user to the sameview or same page so right now let mejust explain this code uh one more timefrom the very beginning so here wheneversomeone is trying to log in or what it

will do is that it will call this Home Route and this will call our web.phpthis route and this out will call ouradmin controller index function and ourindex function uh which is in the admincontroller first of all check if someoneis trying to log in if someone is tryingto log in then it will check the usertype and store it in this user typevariable after that if the user t isuser then it will return the user to thedashboardView and if the user Ty is admin then itwill return the user to the admin. indexview which we just created right nowhere you can see admin.com if the user Dis neither of them then it will keep theuser to the same base it means in theloginpage so let's save it over here andhere and here as well we can just closethis right now we can close it also solet's go back to our browser and let mejust refresh here let's just first tryto login with our user so we'll give theuser Gmail user password here and clicklogin and there you can see it took theuser to the user dashboard because wemention over here uh in the headmancontroller return view dashboard whichis this one by default we are using thisone we'll change it later anduh let's try to log in using our adminuser type here you can see our adminuser type is admin so let's click loginuh let's say here admin give thepassword clicklogin and there you can see it took theadmin to a different view which isadmin. hle so we are able to make bothadmin and user dashboard separate butfor admin we should also have a login orlog out option so for it what we can dois that uh we can just copy the codefrom the dashboard. blade. BP so we'llcopy it contrl C and we'll paste it inthe index. blade. PHP overhere Iguess and accept layout accept layoutand in of dashboard let's say here admindashboard we can add a few more thingsif you want I think this is fine we arenot going to modify anymore and let mejust refresh right now and there you cansee it says admin dashboard and we havethe log out option foradmin so both user and admin haveseparate dashboard but let me just showyou one more thing or one more issuethat you might face that if we just goto the main View and there you can seewe have the dashboard option and if youclick ondashboard it will take the admin to theuser dashboard there you can see this isnot a admin dashboard so for it uh we'regoing to do or we're going to make twochanges first of all uh in the web.phphere you can see we have this routecalled SL dashboard so we'll remove thissave it and right now we'll go towelcome. blade. PHP and here in thewelcome. blade. PHP uh here you can seethis dashboard option this is comingfrom the welcome.php so in of dashboardwe're going to say there SLO oh uh thatis I think let me just search it overhere contr a and I'm going to say heredashboard so here you can see URLdashboard in of UR in dashboard we'regoing to say oh is there any moredashboard this is just a test alldashboard that's why so let's savethis and let me just refresh here andright now if you click dashboard so wegot a ero route dashboard plot defineduh that is in the navigation menu.plate. PHP so let me just go back to ourcodeand here in the layouts we have so herein the navigation menu. blade. PHP overhere we also have dashboard and that isrout so we are going to say here hold Ithink there's a few more dashboard andwe also have over here we'll s herehome for this dashboard home as well letme just check if there isanym we need to remove it from here andhere is thereanymoreno so uh one more thing that you need tonotice is that this is Route not any URLso for routes in the web.php we need tohave or we need to write name here so wesay here name it will behold let's save it again and let's goback to our mainView and right now let's click dashboardand there you can see the user is adminit took the admin to the admin dashboardokay let me just modify the admindashboard so that you can uh easilyrecognize uh between user and admindashboard that is in the index. blade.PHP let me just remove this saveitrefresh and there you go this is ouradmin dashboard so let's try to loginusing user dashboard let's clicklogin let's keep the users gemail thenthe password ccklogin so this is the user dashboard sowe are able to make multipleauthentication properly in our larelproject if you have any question you canjust let me know in the comment sectionor if you want to make any suggestionalso please let me know thanks again forwatching and in the next tutorial I'llshow you how you can integrate HTMLtemplate in your larel project so I hopeyou will learn new things in nexttutorial so I hope to see you in thefuture tutorial so in the next tutorialI'll show you how to integrate HTMLtemplate in our larel project if youhave any question you can let me know inthe comment section if you want to makeany suggestion you can let me know aswell thank you for watching I hope tosee in the future tutorials
11.19 (Multi User & Admin Login System using Laravel Jetstream | Multi Auth in Laravel)
