After laravel installation i install jetstream

```bash
composer require laravel/jetstream

// to Install Jetstream With Livewire
php artisan jetstream:install livewire
```

```bash
npm install
npm run build
php artisan migrate
```

// postcss.config.js
// If facing a problem when run npm

```js
module.exports = {
    plugins: {
        tailwindcss: {},
        autoprefixer: {},
    },
};
```

```php
Schema::create('users', function (Blueprint $table) {
    $table->id();
    $table->string('name');
    $table->string('email')->unique();
    $table->string('phone')->nullable();
    $table->string('usertype')->default('user');
    $table->timestamp('email_verified_at')->nullable();
    $table->string('password');
    $table->rememberToken();
    $table->foreignId('current_team_id')->nullable();
    $table->string('profile_photo_path', 2048)->nullable();
    $table->timestamps();
});
```

```bash
php artisan migrate
```

//register.blade.php

```php
<div>
    <x-label for="name" value="{{ __('Phome') }}" />
    <x-input id="name" class="block mt-1 w-full" type="text" name="phone" :value="old('phone')" required autofocus autocomplete="phone" />
</div>
```

// app/Actions/Fortify/CreateNewUser.php

```php
return User::create([
    'name' => $input['name'],
    'email' => $input['email'],
    'phone' => $input['phone'],
    'password' => Hash::make($input['password']),
]);
```

// goto config/fortify.php anc change `'home' => '/dashboard',` to `'home' => '/home',`

Lets go and make a controller for home.

```bash
php artisan make:controller AdminController
```

after making a controller and make a route for home

```php
// let's say ourfunction name will be index okay soright now what we need to do is thatwe need to go to the admin controller andcreate a function called index
route::get('/home', [AdminController::class, 'index']);
```

so let'sgo to our admin controller and herewe're going toset publicfunction index to file bracket and thendo second bracket and in this indexfunction we're going to write a fewcondition so that whenever a user istrying to log in it will send the userto the user dashboard and when a adminis trying to log in it will send theadmin to the admin dashboard so for it we need to have access to the user tableso here we need to mention the user model. so we'll say here `use App\Models\User;` so this our usertable name and we need to mention onemore thing and that is Auth `use Illuminate\Support\Facades\Auth;` so we also have access to the authentication so here using this allwe'll check whether a user is time tologin or not so in this function we'llgive a if condition

```php
<?php

namespace App\Http\Controllers;
use App\Models\User;
class AdminController extends Controller {
    public function index() {

        if (Auth::id()) {
            $usertype = Auth()->user()->usertype;
        }
        //this means if someone is trying to log in only then we'll come to this if condition okay otherwise we will notcome to this if condition so if someoneis trying to log in obviously they willhave a user type whether it is user or admin so first of all we'll get that user type so for it let's go and declarea variable let's say the variable name will be user type you can declare itanything but we'll make it we'll say `$usertype` because that makes more sense.

        //so here what we are doing is that in the user table this is the table name in the user table we'retrying to get the user type and store it in this user type variable

    }
}
```

so what this line `Auth()->user()->usertype;` we do is that it will get the user type from the database table whenever someone is tryto login and that user type data will be stored in this user type variable it means for example if a user is trying to log in then it will make the user type value is user and if a admin is trying to log in then the user type value will be admin okay

so right now using this user type we are going to write one more if conditio.

```php
if ($usertype == 'user') {
    return view('dashboard');
} else if ($usertype == 'admin') {
    return view('admin.index');
} else {
    return redirect()->back();
}
```

we are saying if the user type value is user it mean suser is trying to login so we'll return the user to the dashboard so we'll sayhere return view dashboard and this dashboard view is this one this is the regular dashboard view we'll change it later but for now this will be the use rlogged in dashboard for now and the userTy is admin then we'll send the user or admin to a different dashboard

we'll say here in stad of user we say here admin and inad of if condition it willbe else if okay and we cannot send the admin to the same view so here stop thisone we say here admin do let's say index so right now what we do is that we'll create a `admin` folder in our views inside this admin folderwe're going to create a file say `index.blade.PHP`

```php
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
</head>
<body>
    <h1>Admin Dashboard</h1>
</body>
</html>
```

### let me just explain this code uh one more time from the very beginning so here when ever someone is trying to log in or what it will do is that it will call this Home Route and this will call our web.phpthis route and this out will call ouradmin controller index function and our index function which is in the admincontroller first of all check if someoneis trying to log in if someone is trying to log in then it will check the usertype and store it in this user typevariable after that if the user t isuser then it will return the user to thedashboardView and if the user Ty is admin then itwill return the user to the admin. index view which we just created right nowhere you can see admin.com if the user Dis neither of them then it will keep theuser to the same base it means in the log in page

let's go back to our browser and let me just refresh here let's just first try to login with our user so we'll give the user Gmail user password here and click login and there you can see it took the user to the user dashboard because we mention over here in the admancontroller return view dashboard whichis this one by default we are using this one we'll change it later and let's try to log in using our adminuser type here you can see our adminuser type is admin so let's click login let's say here admin give the password click login and there you can see it took the admin to a different view which is admin.

so we are able to make both admin and user dashboard separate but for admin we should also have a login or log out option so for it what we can do is that we can just copy the code from the dashboard.blade.php

```php
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Admin Dashboard</title>
</head>
<body>
```

```php
<x-app-layout>
    <x-slot name="header">
        <h2 class="font-semibold text-xl text-gray-800 leading-tight">
            {{ __('Dashboard') }}
        </h2>
    </x-slot>

    <div class="py-12">
        <div class="max-w-7xl mx-auto sm:px-6 lg:px-8">
            <div class="bg-white overflow-hidden shadow-xl sm:rounded-lg">
                <x-welcome />
            </div>
        </div>
    </div>
</x-app-layout>
```

```php
</body>
</html>
```

so we'll copy it and we'll paste it in the index.blade.PHP over here I guess and accept layout accept layout and in of dashboard let's say here admin dashboard we can add a few more things if you want I think this is fine we are not going to modify any more and let me just refresh right now and there you can see it says admin dashboard and we have the log out option for admin so both user and admin haves eparate dashboard but let me just show you one more thing or one more issue that you might face that if we just goto the main View and there you can see we have the dashboard option and if youc lick ondashboard it will take the admin to the user dashboard there you can see this is not a admin dashboard so for it uh we'regoing to do or we're going to make two changes.

first of all in the web.php here you can see we have this route called `/dashboard`

so we'll remove this

```php
Route::middleware([
    'auth:sanctum',
    config('jetstream.auth_session'),
    'verified',
])->group(function () {
    Route::get('/dashboard', function () {
        return view('dashboard');
    })->name('dashboard');
});
```

save it and right now we'll go to welcome.blade.PHP and here in the welcome. blade. PHP here you can see this dashboard option this is coming from the welcome.php `<a href="{{ url('/dashboard') }}"` so in of dashboard we're going to say there `<a href="{{ url('/home') }}"` oh uh thatis I think let me just search it over here contr a and I'm going to say here dashboard so here you can see URLdashboard in of UR in dashboard we'regoing to say oh is there any more dashboard this is just a test alldashboard that's why so let's save this and let me just refresh here andright now if you click dashboard so we got a error route dashboard plot defineduh that is in the navigation menu.plate. PHP so let me just go back to ourcodeand here in the layouts we have so herein the navigation menu. blade. PHP overhere we also have dashboard and that isrout so we are going to say here hold Ithink there's a few more dashboard andwe also have over here we'll s herehome for this dashboard home as well letme just check if there isanym we need to remove it from here andhere is thereanymoreno so uh one more thing that you need tonotice is that this is Route not any URLso for routes in the web.php we need tohave or we need to write name here so wesay here name it will behold let's save it again and let's goback to our mainView and right now let's click dashboardand there you can see the user is adminit took the admin to the admin dashboardokay let me just modify the admindashboard so that you can uh easilyrecognize uh between user and admindashboard that is in the index. blade.PHP let me just remove this saveitrefresh and there you go this is ouradmin dashboard so let's try to loginusing user dashboard let's clicklogin let's keep the users gemail thenthe password ccklogin so this is the user dashboard sowe are able to make multipleauthentication properly in our larelproject if you have any question you canjust let me know in the comment sectionor if you want to make any suggestionalso please let me know thanks again forwatching and in the next tutorial I'llshow you how you can integrate HTMLtemplate in your larel project so I hopeyou will learn new things in nexttutorial so I hope to see you in thefuture tutorial so in the next tutorialI'll show you how to integrate HTMLtemplate in our larel project if youhave any question you can let me know inthe comment section if you want to makeany suggestion you can let me know aswell thank you for watching I hope tosee in the future tutorials
11.19 (Multi User & Admin Login System using Laravel Jetstream | Multi Auth in Laravel)
